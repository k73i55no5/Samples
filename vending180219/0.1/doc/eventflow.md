# これは？

https://qiita.com/k73i55no5/items/46c3471110852c035997

ここで取り上げている、自販機システムのイベントフローを綴っています。

# イベントフロー

## コインを投入する

- 概要
    - 自販機にコインを投入する。
- アクター
    - 私（甲）
- トリガー
    - 甲が自販機にコインを投入する(insertCoin)。
- 基本フロー
    - 自販機は、受け取ったコインの種類及び投入金額を確認する(**E-1**)(**E-2**)。
    - 自販機は、受け取ったコインを格納し(storeCoin)、投入金額を表示する。
    - ユースケースを終了する。
- 例外フロー
    - **E-1** 投入されたコインの種類が正しくない(isIncorrect)。
        - エラーメッセージを表示し、ユースケースを終了する。
    - **E-2** 投入金額が1,000円を超える(isReachThousand)。
        - エラーメッセージを表示し、ユースケースを終了する。

## 飲料を購入する

- 概要
    - 自販機より飲料を購入する。
- アクター
    - 私（甲）
- 事前条件
    - 自販機の投入金額が0でない。
- 事後条件
    - 自販機が格納する飲料の本数が減る。
- トリガー
    - 甲が購入する飲料を選択する(selectDrink)。
- 基本フロー
    - 自販機は、選択された飲料の種類及び在庫並びに投入金額を確認する(**E-1**)(**E-2**)(**E-3**)。
    - 自販機は、選択された飲料の在庫を1減じ(decrement)、購入飲料を表示する。
    - 自販機は、投入金額を更新し、表示する。
    - ユースケースを終了する。
- 例外フロー
    - **E-1** 選択された飲料の種類が正しくない(isIncorrect)。
        - エラーメッセージを表示し、ユースケースを終了する。
    - **E-2** 選択された飲料の在庫がない(isEmpty)。
        - エラーメッセージを表示し、ユースケースを終了する。
    - **E-3** 投入金額が0である(isNotInserted)。
        - エラーメッセージを表示し、ユースケースを終了する。

## コインを返却してもらう

- 概要
    - 自販機よりコインを返却してもらう。
- アクター
    - 私（甲）
- 事前条件
    - 自販機の投入金額が0でない。
- 事後条件
    - 自販機の投入金額が0となり、甲に投入金額分のコインがすべて返却される。
- トリガー
    - 甲がコイン返却を選択する(selectReturn)。
- 基本フロー
    - 自販機は、投入金額を確認する(**E-1**)
    - 自販機は、投入金額分のコインをすべて100円硬貨で返却する(returnCoin)。
    - 自販機は、投入金額を0に更新し、表示する。
    - ユースケースを終了する。
- 例外フロー
    - **E-1** 投入金額が0である(isNotInserted)。
        - エラーメッセージを表示し、ユースケースを終了する。
