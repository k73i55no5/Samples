# ここは

https://github.com/k73i55no5/Samples/tree/master/vending180219/0.1.1/src

ここにまとめている、自販機システムのシナリオを綴っています。

# シナリオ

## 基本シナリオ

- **甲は、自販機の1回目の利用で、自販機に100円玉を投入する。**
    - 自販機は、受け取ったコインが100円玉であること及び投入金額が「0」であることを確認する。
    - 自販機は、100円玉を格納し、投入金額「100」を表示する。
    - 自販機は、甲が所持するログカードに、1,000円紙幣「5」、500円硬貨「5」及び100円硬貨「6」を記録する。
    - 甲は、購入する飲料「コーラ」を選択する。
    - 自販機は、コーラが選択されたこと、コーラの在庫があること及び投入金額が「100」であることを確認する。
    - 自販機は、コーラの在庫を1減じ、購入飲料「コーラ」を表示する。
    - 自販機は、甲が所持するログカードに、所持金「900」を記録する。
    - 自販機は、甲が所持するログカードに、購入飲料「コーラ」を記録する。
    - 自販機は、甲が所持するログカードに、コーラ「2」、ダイエットコーラ「3」及びお茶「3」を記録する。
    - 自販機は、投入金額を「0」に更新し、表示する。
- **甲は、自販機の2回目の利用で、自販機に500円玉を投入する。**
    - 自販機は、受け取ったコインが500円玉であること及び投入金額が「0」であることを確認する。
    - 自販機は、500円玉を格納し、投入金額「500」を表示する。
    - 自販機は、甲が所持するログカードに、1,000円紙幣「5」、500円硬貨「6」及び100円硬貨「6」を記録する。
    - 甲は、購入する飲料「ダイエットコーラ」を選択する。
    - 自販機は、ダイエットコーラが選択されたこと、ダイエットコーラの在庫があること及び投入金額が「500」であることを確認する。
    - 自販機は、ダイエットコーラの在庫を1減じ、購入飲料「ダイエットコーラ」を表示する。
    - 自販機は、甲が所持するログカードに、所持金「800」を記録する。
    - 自販機は、甲が所持するログカードに、購入飲料「ダイエットコーラ」を記録する。
    - 自販機は、甲が所持するログカードに、コーラ「2」、ダイエットコーラ「2」及びお茶「3」を記録する。
    - 自販機は、投入金額を「400」に更新し、表示する。
- **甲は、自販機の投入金額が400円である、及び自販機の3回目の利用である時に、購入する飲料「お茶」を選択する。**
    - 自販機は、お茶が選択されたこと、お茶の在庫があること及び投入金額が「400」であることを確認する。
    - 自販機は、お茶の在庫を1減じ、購入飲料「お茶」を表示する。
    - 自販機は、甲が所持するログカードに、所持金「700」を記録する。
    - 自販機は、甲が所持するログカードに、購入飲料「お茶」を記録する。
    - 自販機は、甲が所持するログカードに、コーラ「2」、ダイエットコーラ「2」及びお茶「2」を記録する。
    - 自販機は、投入金額を「300」に更新し、表示する。
- **甲は、所持金が200円である、自販機に格納されている1,000円紙幣が1枚である、500円硬貨が3枚である、及び100円硬貨が8枚である、並びに自販機の投入金額が700円である時に、コイン返却を選択する。**
    - 自販機は、投入金額が「700」であることを確認する。
    - 自販機は、100円玉7枚を返却する。
    - 自販機は、投入金額を「0」に更新し、表示する。
    - 自販機は、甲が所持するログカードに、所持金「900」を記録する。
    - 自販機は、甲が所持するログカードに、1,000円紙幣「1」、500円硬貨「3」及び100円硬貨「1」を記録する。
- **甲は、コーラを購入した後に、購入飲料の履歴照会を選択する。**
    - 自販機は、甲が購入した飲料「コーラ」を表示する。
- **業者は、飲料の補充を選択する。**
    - 自販機は、格納している全種類の飲料の本数を最大にする。
- **業者は、コインの補充を選択する。**
    - 自販機は、格納している100円硬貨の枚数を最大にする。

## 例外シナリオ

- **貨幣を投入する：E-1**
    - 甲は、自販機に10円玉を投入する。
        - 自販機は、投入されたコインの種類が正しくないと判断し、エラーメッセージ「投入されたコインの種類が正しくありません。」を表示する。
- **貨幣を投入する：E-2**
    - 甲は、自販機に貨幣を投入することにより、投入金額が1,000円を超える。
        - 自販機は、投入金額が1,000円に達することを確認し、エラーメッセージ「これ以上コインを投入できません。」を表示する。
- **貨幣を投入する：E-3**
    -  甲は、自販機に格納されている500円硬貨が10枚である時に、100円玉を投入する。
        - 自販機は、500円硬貨の格納数が10枚を超えることを確認し、エラーメッセージ「これ以上コインを投入できません。」を表示する。
- **飲料を購入する：E-1**
    - 甲は、購入する飲料「null」を選択する。
        - 自販機は、選択された飲料の種類が正しくないと判断し、エラーメッセージ「選択された飲料の種類が正しくありません。」を表示する。
- **飲料を購入する：E-2**
    - 甲は、購入する飲料「コーラ」を選択する。
        - 自販機は、コーラの在庫がないことを確認し、エラーメッセージ「コーラの在庫がありません。」を表示する。
- **飲料を購入する：E-3**
    - 甲は、投入金額が0のときに、購入する飲料「お茶」を選択する。
        - 自販機は、投入金額が不足していると判断し、エラーメッセージ「投入金額が不足しています。」を表示する。
- **コインを返却してもらう：E-1**
    - 甲は、投入金額が0のときに、コイン返却を選択する。
        - 自販機は、返却するコインがないと判断し、エラーメッセージ「返却するコインがありません。」を表示する。
- **コインを返却してもらう：E-2**
    - 甲は、自販機に格納されている100円硬貨が7枚であり、投入金額が800のときに、コイン返却を選択する。
        - 自販機は、返却するコインが足りないと判断し、エラーメッセージ「返却するコインが足りません。」を表示する。
- **購入履歴を照会する：E-1**
    - 甲は、自販機で飲料を一度も購入していない状態で、購入飲料の履歴照会を選択する。
        - 自販機は、飲料の購入履歴がないと判断し、エラーメッセージ「飲料の購入履歴がありません。」を表示する。
